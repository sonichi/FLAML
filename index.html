<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>FLAML API Documentation &mdash; FLAML  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="#" class="icon icon-home"> FLAML
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">FLAML API Documentation</a><ul>
<li><a class="reference internal" href="#automl">AutoML</a></li>
<li><a class="reference internal" href="#tune">Tune</a></li>
<li><a class="reference internal" href="#online-automl">Online AutoML</a></li>
<li><a class="reference internal" href="#nlp">NLP</a></li>
</ul>
</li>
</ul>
</div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">FLAML</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="#" class="icon icon-home"></a> &raquo;</li>
      <li>FLAML API Documentation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="flaml-api-documentation">
<h1>FLAML API Documentation<a class="headerlink" href="#flaml-api-documentation" title="Permalink to this headline"></a></h1>
<section id="automl">
<h2>AutoML<a class="headerlink" href="#automl" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="flaml.AutoML">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">flaml.</span></span><span class="sig-name descname"><span class="pre">AutoML</span></span><a class="reference internal" href="_modules/flaml/automl.html#AutoML"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.AutoML" title="Permalink to this definition"></a></dt>
<dd><p>The AutoML class</p>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">automl</span> <span class="o">=</span> <span class="n">AutoML</span><span class="p">()</span>
<span class="n">automl_settings</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;time_budget&quot;</span><span class="p">:</span> <span class="mi">60</span><span class="p">,</span>
    <span class="s2">&quot;metric&quot;</span><span class="p">:</span> <span class="s1">&#39;accuracy&#39;</span><span class="p">,</span>
    <span class="s2">&quot;task&quot;</span><span class="p">:</span> <span class="s1">&#39;classification&#39;</span><span class="p">,</span>
    <span class="s2">&quot;log_file_name&quot;</span><span class="p">:</span> <span class="s1">&#39;test/mylog.log&#39;</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">automl</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span> <span class="o">=</span> <span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span> <span class="o">=</span> <span class="n">y_train</span><span class="p">,</span>
    <span class="o">**</span><span class="n">automl_settings</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="flaml.AutoML.add_learner">
<span class="sig-name descname"><span class="pre">add_learner</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">learner_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">learner_class</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/flaml/automl.html#AutoML.add_learner"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.AutoML.add_learner" title="Permalink to this definition"></a></dt>
<dd><p>Add a customized learner</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>learner_name</strong> – A string of the learner’s name</p></li>
<li><p><strong>learner_class</strong> – A subclass of flaml.model.BaseEstimator</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="flaml.AutoML.best_config">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">best_config</span></span><a class="headerlink" href="#flaml.AutoML.best_config" title="Permalink to this definition"></a></dt>
<dd><p>A dictionary of the best configuration.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="flaml.AutoML.best_config_per_estimator">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">best_config_per_estimator</span></span><a class="headerlink" href="#flaml.AutoML.best_config_per_estimator" title="Permalink to this definition"></a></dt>
<dd><p>A dictionary of all estimators’ best configuration.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="flaml.AutoML.best_config_train_time">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">best_config_train_time</span></span><a class="headerlink" href="#flaml.AutoML.best_config_train_time" title="Permalink to this definition"></a></dt>
<dd><p>A float of the seconds taken by training the
best config.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="flaml.AutoML.best_estimator">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">best_estimator</span></span><a class="headerlink" href="#flaml.AutoML.best_estimator" title="Permalink to this definition"></a></dt>
<dd><p>A string indicating the best estimator found.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="flaml.AutoML.best_iteration">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">best_iteration</span></span><a class="headerlink" href="#flaml.AutoML.best_iteration" title="Permalink to this definition"></a></dt>
<dd><p>An integer of the iteration number where the best
config is found.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="flaml.AutoML.best_loss">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">best_loss</span></span><a class="headerlink" href="#flaml.AutoML.best_loss" title="Permalink to this definition"></a></dt>
<dd><p>A float of the best loss found</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flaml.AutoML.best_model_for_estimator">
<span class="sig-name descname"><span class="pre">best_model_for_estimator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">estimator_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/flaml/automl.html#AutoML.best_model_for_estimator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.AutoML.best_model_for_estimator" title="Permalink to this definition"></a></dt>
<dd><p>Return the best model found for a particular estimator</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>estimator_name</strong> – a str of the estimator’s name</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An object with <cite>predict()</cite> and <cite>predict_proba()</cite> method (for
classification), storing the best trained model for estimator_name.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="flaml.AutoML.cat_hp_cost">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">cat_hp_cost</span></span><em class="property"><span class="pre">:</span> <span class="pre">dict</span></em><a class="headerlink" href="#flaml.AutoML.cat_hp_cost" title="Permalink to this definition"></a></dt>
<dd><p>Categorical hyperparameter cost</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A dict.
(a) if there is only one estimator in estimator_list, each key is a
hyperparameter name.
(b) otherwise, it is a nested dict with ‘ml’ as the key, and
a list of the cat_hp_cost’s as the value, corresponding
to each learner’s cat_hp_cost; the cost relative to lgbm for each
learner (as a list itself) is appended to the list at the end.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="flaml.AutoML.classes_">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">classes_</span></span><a class="headerlink" href="#flaml.AutoML.classes_" title="Permalink to this definition"></a></dt>
<dd><p>A list of n_classes elements for class labels.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="flaml.AutoML.config_history">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">config_history</span></span><a class="headerlink" href="#flaml.AutoML.config_history" title="Permalink to this definition"></a></dt>
<dd><p>A dictionary of iter-&gt;(estimator, config, time),
storing the best estimator, config, and the time when the best
model is updated each time.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flaml.AutoML.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X_train</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_train</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataframe</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">task</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'classification'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_file_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'flaml.log'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">estimator_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_budget</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">60</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_iter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ensemble</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eval_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'better'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_history</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split_ratio</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_splits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_training_metric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mem_thres</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4294967296</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred_time_limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">train_time_limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">X_val</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_val</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_weight_val</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">groups_val</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">groups</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retrain_full</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">learner_selector</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'sample'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hpo_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">starting_points</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_concurrent_trials</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_search_state</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">early_stop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">append_log</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_augment</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_sample_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10000</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">fit_kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/flaml/automl.html#AutoML.fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.AutoML.fit" title="Permalink to this definition"></a></dt>
<dd><p>Find a model for a given task</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X_train</strong> – A numpy array or a pandas dataframe of training data in
shape (n, m). For ‘forecast’ task, X_train should contain a
single column of timestamps.</p></li>
<li><p><strong>y_train</strong> – A numpy array or a pandas series of labels in shape (n, ).</p></li>
<li><p><strong>dataframe</strong> – A dataframe of training data including label column.
For ‘forecast’ task, dataframe must be specified and should
have two columns: timestamp and value.</p></li>
<li><p><strong>label</strong> – A str of the label column name for ‘classification’ or
‘regression’ task, e.g., ‘label’;
or a tuple of strings for timestamp and value columns for
‘forecasting’ task, e.g., (‘timestamp’, ‘value’).
Note: If X_train and y_train are provided,
dataframe and label are ignored;
If not, dataframe and label must be provided.</p></li>
<li><p><strong>metric</strong> – <p>A string of the metric name or a function,
e.g., ‘accuracy’, ‘roc_auc’, ‘roc_auc_ovr’, ‘roc_auc_ovo’,
‘f1’, ‘micro_f1’, ‘macro_f1’, ‘log_loss’, ‘mae’, ‘mse’, ‘r2’,
‘mape’.
If passing a customized metric function, the function needs to
have the follwing signature:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">custom_metric</span><span class="p">(</span>
    <span class="n">X_test</span><span class="p">,</span> <span class="n">y_test</span><span class="p">,</span> <span class="n">estimator</span><span class="p">,</span> <span class="n">labels</span><span class="p">,</span>
    <span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">weight_test</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">weight_train</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">config</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">groups_test</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">groups_train</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<span class="p">):</span>
    <span class="k">return</span> <span class="n">metric_to_minimize</span><span class="p">,</span> <span class="n">metrics_to_log</span>
</pre></div>
</div>
<p>which returns a float number as the minimization objective,
and a dictionary as the metrics to log.</p>
</p></li>
<li><p><strong>task</strong> – A string of the task type, e.g.,
‘classification’, ‘regression’, ‘forecast’, ‘rank’.</p></li>
<li><p><strong>n_jobs</strong> – An integer of the number of threads for training.</p></li>
<li><p><strong>log_file_name</strong> – A string of the log file name.</p></li>
<li><p><strong>estimator_list</strong> – <p>A list of strings for estimator names, or ‘auto’
e.g.,</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s1">&#39;lgbm&#39;</span><span class="p">,</span> <span class="s1">&#39;xgboost&#39;</span><span class="p">,</span> <span class="s1">&#39;catboost&#39;</span><span class="p">,</span> <span class="s1">&#39;rf&#39;</span><span class="p">,</span> <span class="s1">&#39;extra_tree&#39;</span><span class="p">]</span>
</pre></div>
</div>
</p></li>
<li><p><strong>time_budget</strong> – A float number of the time budget in seconds.</p></li>
<li><p><strong>max_iter</strong> – An integer of the maximal number of iterations.</p></li>
<li><p><strong>sample</strong> – A boolean of whether to sample the training data during
search.</p></li>
<li><p><strong>ensemble</strong> – boolean or dict | default=False. Whether to perform
ensemble after search. Can be a dict with keys ‘passthrough’
and ‘final_estimator’ to specify the passthrough and
final_estimator in the stacker.</p></li>
<li><p><strong>eval_method</strong> – A string of resampling strategy, one of
[‘auto’, ‘cv’, ‘holdout’].</p></li>
<li><p><strong>split_ratio</strong> – A float of the valiation data percentage for holdout.</p></li>
<li><p><strong>n_splits</strong> – An integer of the number of folds for cross - validation.</p></li>
<li><p><strong>log_type</strong> – A string of the log type, one of
[‘better’, ‘all’].
‘better’ only logs configs with better loss than previos iters
‘all’ logs all the tried configs.</p></li>
<li><p><strong>model_history</strong> – A boolean of whether to keep the history of best
models in the history property. Make sure memory is large
enough if setting to True.</p></li>
<li><p><strong>log_training_metric</strong> – A boolean of whether to log the training
metric for each model.</p></li>
<li><p><strong>mem_thres</strong> – A float of the memory size constraint in bytes.</p></li>
<li><p><strong>pred_time_limit</strong> – A float of the prediction latency constraint in seconds.</p></li>
<li><p><strong>train_time_limit</strong> – A float of the training time constraint in seconds.</p></li>
<li><p><strong>X_val</strong> – None or a numpy array or a pandas dataframe of validation data.</p></li>
<li><p><strong>y_val</strong> – None or a numpy array or a pandas series of validation labels.</p></li>
<li><p><strong>sample_weight_val</strong> – None or a numpy array of the sample weight of
validation data of the same shape as y_val.</p></li>
<li><p><strong>groups_val</strong> – None or array-like | group labels (with matching length
to y_val) or group counts (with sum equal to length of y_val)
for validation data. Need to be consistent with groups.</p></li>
<li><p><strong>groups</strong> – None or array-like | Group labels (with matching length to
y_train) or groups counts (with sum equal to length of y_train)
for training data.</p></li>
<li><p><strong>verbose</strong> – int, default=3 | Controls the verbosity, higher means more
messages.</p></li>
<li><p><strong>retrain_full</strong> – bool or str, default=True | whether to retrain the
selected model on the full training data when using holdout.
True - retrain only after search finishes; False - no retraining;
‘budget’ - do best effort to retrain without violating the time
budget.</p></li>
<li><p><strong>split_type</strong> – <p>str or None, default=None | the data split type.
For classification tasks, valid choices are [</p>
<blockquote>
<div><p>None, ‘stratified’, ‘uniform’, ‘time’]. None -&gt; stratified.</p>
</div></blockquote>
<dl class="simple">
<dt>For regression tasks, valid choices are [None, ‘uniform’, ‘time’].</dt><dd><p>None -&gt; uniform.</p>
</dd>
</dl>
<p>For time series forecasting, must be None or ‘time’.
For ranking task, must be None or ‘group’.</p>
</p></li>
<li><p><strong>hpo_method</strong> – str or None, default=None | The hyperparameter
optimization method. By default, CFO is used for sequential
search and BlendSearch is used for parallel search.
No need to set when using flaml’s default search space or using
a simple customized search space. When set to ‘bs’, BlendSearch
is used. BlendSearch can be tried when the search space is
complex, for example, containing multiple disjoint, discontinuous
subspaces. When set to ‘random’, random search is used.</p></li>
<li><p><strong>starting_points</strong> – <p>A dictionary to specify the starting hyperparameter
config for the estimators.
Keys are the name of the estimators, and values are the starting
hyperparamter configurations for the corresponding estimators.
The value can be a single hyperparamter configuration dict or a list
of hyperparamter configuration dicts.
In the following code example, we get starting_points from the
automl_experiment and use them in the new_automl_experiment.
e.g.,
.. code-block:: python</p>
<blockquote>
<div><p>from flaml import AutoML
automl_experiment = AutoML()
X_train, y_train = load_iris(return_X_y=True)
automl_experiment.fit(X_train, y_train)
starting_points = automl_experiment.best_config_per_estimator</p>
<p>new_automl_experiment = AutoML()
new_automl_experiment.fit(X_train, y_train,</p>
<blockquote>
<div><p>starting_points=starting_points)</p>
</div></blockquote>
</div></blockquote>
</p></li>
<li><p><strong>seed</strong> – int or None, default=None | The random seed for np.random.</p></li>
<li><p><strong>n_concurrent_trials</strong> – [Experimental] int, default=1 | The number of
concurrent trials. For n_concurrent_trials &gt; 1, installation of
ray is required: <cite>pip install flaml[ray]</cite>.</p></li>
<li><p><strong>keep_search_state</strong> – boolean, default=False | Whether to keep search
state after fit(). By default the state is deleted for space
saving.</p></li>
<li><p><strong>early_stop</strong> – boolean, default=False | Whether to stop early if the
search is considered to converge.</p></li>
<li><p><strong>append_log</strong> – boolean, default=False | Whetehr to directly append the log
records to the input log file if it exists.</p></li>
<li><p><strong>auto_augment</strong> – boolean, default=True | Whether to automatically
augment rare classes.</p></li>
<li><p><strong>min_sample_size</strong> – int, default=MIN_SAMPLE_TRAIN | the minimal sample
size when sample=True.</p></li>
<li><p><strong>**fit_kwargs</strong> – Other key word arguments to pass to fit() function of
the searched learners, such as sample_weight. Include period as
a key word argument for ‘forecast’ task.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flaml.AutoML.get_estimator_from_log">
<span class="sig-name descname"><span class="pre">get_estimator_from_log</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">log_file_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">record_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">task</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/flaml/automl.html#AutoML.get_estimator_from_log"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.AutoML.get_estimator_from_log" title="Permalink to this definition"></a></dt>
<dd><p>Get the estimator from log file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>log_file_name</strong> – A string of the log file name</p></li>
<li><p><strong>record_id</strong> – An integer of the record ID in the file,
0 corresponds to the first trial</p></li>
<li><p><strong>task</strong> – A string of the task type,
‘binary’, ‘multi’, ‘regression’, ‘forecast’, ‘rank’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An estimator object for the given configuration</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="flaml.AutoML.low_cost_partial_config">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">low_cost_partial_config</span></span><em class="property"><span class="pre">:</span> <span class="pre">dict</span></em><a class="headerlink" href="#flaml.AutoML.low_cost_partial_config" title="Permalink to this definition"></a></dt>
<dd><p>Low cost partial config</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A dict.
(a) if there is only one estimator in estimator_list, each key is a
hyperparameter name.
(b) otherwise, it is a nested dict with ‘ml’ as the key, and
a list of the low_cost_partial_configs as the value, corresponding
to each learner’s low_cost_partial_config; the estimator index as
an integer corresponding to the cheapest learner is appended to the
list at the end.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="flaml.AutoML.max_resource">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">max_resource</span></span><em class="property"><span class="pre">:</span> <span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#flaml.AutoML.max_resource" title="Permalink to this definition"></a></dt>
<dd><p>Attribute for pruning</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A float for the maximal sample size or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="flaml.AutoML.metric_constraints">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">metric_constraints</span></span><em class="property"><span class="pre">:</span> <span class="pre">list</span></em><a class="headerlink" href="#flaml.AutoML.metric_constraints" title="Permalink to this definition"></a></dt>
<dd><p>Metric constraints</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A list of the metric constraints</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="flaml.AutoML.min_resource">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">min_resource</span></span><em class="property"><span class="pre">:</span> <span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#flaml.AutoML.min_resource" title="Permalink to this definition"></a></dt>
<dd><p>Attribute for pruning</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A float for the minimal sample size or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="flaml.AutoML.model">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">model</span></span><a class="headerlink" href="#flaml.AutoML.model" title="Permalink to this definition"></a></dt>
<dd><p>An object with <cite>predict()</cite> and <cite>predict_proba()</cite> method (for
classification), storing the best trained model.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="flaml.AutoML.model_history">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">model_history</span></span><a class="headerlink" href="#flaml.AutoML.model_history" title="Permalink to this definition"></a></dt>
<dd><p>A dictionary of iter-&gt;model, storing the models when
the best model is updated each time.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="flaml.AutoML.points_to_evaluate">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">points_to_evaluate</span></span><em class="property"><span class="pre">:</span> <span class="pre">dict</span></em><a class="headerlink" href="#flaml.AutoML.points_to_evaluate" title="Permalink to this definition"></a></dt>
<dd><p>Initial points to evaluate</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A list of dicts. Each dict is the initial point for each learner</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flaml.AutoML.predict">
<span class="sig-name descname"><span class="pre">predict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X_test</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/flaml/automl.html#AutoML.predict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.AutoML.predict" title="Permalink to this definition"></a></dt>
<dd><p>Predict label from features.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>X_test</strong> – <p>A numpy array of featurized instances, shape n * m,
or for ‘forecasting’ task:</p>
<blockquote>
<div><p>a pandas dataframe with one column of timestamp values
or an integer n for the predict steps (only valid when
the estimator is arima or sarimax).</p>
</div></blockquote>
</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A array-like of shape n * 1 - - each element is a predicted
label for an instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flaml.AutoML.predict_proba">
<span class="sig-name descname"><span class="pre">predict_proba</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X_test</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/flaml/automl.html#AutoML.predict_proba"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.AutoML.predict_proba" title="Permalink to this definition"></a></dt>
<dd><p>Predict the probability of each class from features, only works for
classification problems.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>X_test</strong> – A numpy array of featurized instances, shape n * m.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A numpy array of shape n * c. c is the  # classes. Each element at
(i, j) is the probability for instance i to be in class j.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="flaml.AutoML.prune_attr">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">prune_attr</span></span><em class="property"><span class="pre">:</span> <span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#flaml.AutoML.prune_attr" title="Permalink to this definition"></a></dt>
<dd><p>Attribute for pruning</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A string for the sample size attribute or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flaml.AutoML.retrain_from_log">
<span class="sig-name descname"><span class="pre">retrain_from_log</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">log_file_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">X_train</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_train</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataframe</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_budget</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">task</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'classification'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eval_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split_ratio</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_splits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">split_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">groups</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">train_best</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">train_full</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">record_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_augment</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">fit_kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/flaml/automl.html#AutoML.retrain_from_log"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.AutoML.retrain_from_log" title="Permalink to this definition"></a></dt>
<dd><p>Retrain from log file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>log_file_name</strong> – A string of the log file name</p></li>
<li><p><strong>X_train</strong> – A numpy array of training data in shape n*m</p></li>
<li><p><strong>y_train</strong> – A numpy array of labels in shape n*1</p></li>
<li><p><strong>dataframe</strong> – A dataframe of training data including label column.
For ‘forecast’ task, dataframe must be specified and should
have two columns: timestamp and value.</p></li>
<li><p><strong>label</strong> – A str of the label column name for ‘classification’ or
‘regression’ task, e.g., ‘label’;
or a tuple of strings for timestamp and value columns for
‘forecasting’ task, e.g., (‘timestamp’, ‘value’).
Note: If X_train and y_train are provided,
dataframe and label are ignored;
If not, dataframe and label must be provided.</p></li>
<li><p><strong>time_budget</strong> – A float number of the time budget in seconds.</p></li>
<li><p><strong>task</strong> – A string of the task type, e.g.,
‘classification’, ‘regression’, ‘forecast’, ‘rank’.</p></li>
<li><p><strong>eval_method</strong> – A string of resampling strategy, one of
[‘auto’, ‘cv’, ‘holdout’].</p></li>
<li><p><strong>split_ratio</strong> – A float of the validation data percentage for holdout.</p></li>
<li><p><strong>n_splits</strong> – An integer of the number of folds for cross-validation.</p></li>
<li><p><strong>split_type</strong> – <p>str or None, default=None | the data split type.
For classification tasks, valid choices are [</p>
<blockquote>
<div><p>None, ‘stratified’, ‘uniform’, ‘time’, ‘group’]. None -&gt; stratified.</p>
</div></blockquote>
<dl class="simple">
<dt>For regression tasks, valid choices are [None, ‘uniform’, ‘time’].</dt><dd><p>None -&gt; uniform.</p>
</dd>
</dl>
<p>For time series forecasting, must be None or ‘time’.
For ranking task, must be None or ‘group’.</p>
</p></li>
<li><p><strong>groups</strong> – None or array-like | Group labels (with matching length to
y_train) or groups counts (with sum equal to length of y_train)
for training data.</p></li>
<li><p><strong>n_jobs</strong> – An integer of the number of threads for training. Use all
available resources when n_jobs == -1.</p></li>
<li><p><strong>train_best</strong> – A boolean of whether to train the best config in the
time budget; if false, train the last config in the budget.</p></li>
<li><p><strong>train_full</strong> – A boolean of whether to train on the full data. If true,
eval_method and sample_size in the log file will be ignored.</p></li>
<li><p><strong>record_id</strong> – the ID of the training log record from which the model will
be retrained. By default <cite>record_id = -1</cite> which means this will be
ignored. <cite>record_id = 0</cite> corresponds to the first trial, and
when <cite>record_id &gt;= 0</cite>, <cite>time_budget</cite> will be ignored.</p></li>
<li><p><strong>auto_augment</strong> – boolean, default=True | Whether to automatically
augment rare classes.</p></li>
<li><p><strong>**fit_kwargs</strong> – Other key word arguments to pass to fit() function of
the searched learners, such as sample_weight.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="flaml.AutoML.search_space">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">search_space</span></span><em class="property"><span class="pre">:</span> <span class="pre">dict</span></em><a class="headerlink" href="#flaml.AutoML.search_space" title="Permalink to this definition"></a></dt>
<dd><p>Search space
Must be called after fit(…) (use max_iter=0 to prevent actual fitting)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A dict of the search space</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="flaml.AutoML.time_to_find_best_model">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">time_to_find_best_model</span></span><em class="property"><span class="pre">:</span> <span class="pre">float</span></em><a class="headerlink" href="#flaml.AutoML.time_to_find_best_model" title="Permalink to this definition"></a></dt>
<dd><p>Time taken to find best model in seconds</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="flaml.AutoML.trainable">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">trainable</span></span><em class="property"><span class="pre">:</span> <span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#flaml.AutoML.trainable" title="Permalink to this definition"></a></dt>
<dd><p>Training function</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A function that evaluates each config and returns the loss</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="tune">
<h2>Tune<a class="headerlink" href="#tune" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="flaml.tune.run">
<span class="sig-prename descclassname"><span class="pre">flaml.tune.</span></span><span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">training_function</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">low_cost_partial_config</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cat_hp_cost</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_budget_s</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">points_to_evaluate</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">evaluated_rewards</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prune_attr</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_resource</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_resource</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reduction_factor</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">report_intermediate_result</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search_alg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">local_dir</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_samples</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resources_per_trial</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_constraints</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric_constraints</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_failure</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_ray</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/flaml/tune/tune.html#run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.tune.run" title="Permalink to this definition"></a></dt>
<dd><p>The trigger for HPO.</p>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">time</span>
<span class="kn">from</span> <span class="nn">flaml</span> <span class="kn">import</span> <span class="n">tune</span>

<span class="k">def</span> <span class="nf">compute_with_config</span><span class="p">(</span><span class="n">config</span><span class="p">):</span>
    <span class="n">current_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
    <span class="n">metric2minimize</span> <span class="o">=</span> <span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">])</span><span class="o">-</span><span class="mi">95000</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span>
    <span class="n">time2eval</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">current_time</span>
    <span class="n">tune</span><span class="o">.</span><span class="n">report</span><span class="p">(</span><span class="n">metric2minimize</span><span class="o">=</span><span class="n">metric2minimize</span><span class="p">,</span> <span class="n">time2eval</span><span class="o">=</span><span class="n">time2eval</span><span class="p">)</span>

<span class="n">analysis</span> <span class="o">=</span> <span class="n">tune</span><span class="o">.</span><span class="n">run</span><span class="p">(</span>
    <span class="n">compute_with_config</span><span class="p">,</span>
    <span class="n">config</span><span class="o">=</span><span class="p">{</span>
        <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="n">tune</span><span class="o">.</span><span class="n">lograndint</span><span class="p">(</span><span class="n">lower</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">upper</span><span class="o">=</span><span class="mi">1000000</span><span class="p">),</span>
        <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="n">tune</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="n">lower</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">upper</span><span class="o">=</span><span class="mi">1000000</span><span class="p">)</span>
    <span class="p">},</span>
    <span class="n">metric</span><span class="o">=</span><span class="s1">&#39;metric2minimize&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;min&#39;</span><span class="p">,</span>
    <span class="n">num_samples</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">time_budget_s</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span> <span class="n">use_ray</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">analysis</span><span class="o">.</span><span class="n">trials</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">last_result</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>training_function</strong> – A user-defined training function.</p></li>
<li><p><strong>config</strong> – A dictionary to specify the search space.</p></li>
<li><p><strong>low_cost_partial_config</strong> – <p>A dictionary from a subset of
controlled dimensions to the initial low-cost values.
e.g.,</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;n_estimators&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;max_leaves&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">}</span>
</pre></div>
</div>
</p></li>
<li><p><strong>cat_hp_cost</strong> – <p>A dictionary from a subset of categorical dimensions
to the relative cost of each choice.
e.g.,</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;tree_method&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]}</span>
</pre></div>
</div>
<p>i.e., the relative cost of the
three choices of ‘tree_method’ is 1, 1 and 2 respectively</p>
</p></li>
<li><p><strong>metric</strong> – A string of the metric name to optimize for.</p></li>
<li><p><strong>mode</strong> – A string in [‘min’, ‘max’] to specify the objective as
minimization or maximization.</p></li>
<li><p><strong>time_budget_s</strong> – int or float | The time budget in seconds.</p></li>
<li><p><strong>points_to_evaluate</strong> – A list of initial hyperparameter
configurations to run first.</p></li>
<li><p><strong>evaluated_rewards</strong> (<em>list</em>) – <p>If you have previously evaluated the
parameters passed in as points_to_evaluate you can avoid
re-running those trials by passing in the reward attributes
as a list so the optimiser can be told the results without
needing to re-compute the trial. Must be the same length as
points_to_evaluate.
e.g.,
.. code-block:: python</p>
<blockquote>
<div><dl class="simple">
<dt>points_to_evaluate = [</dt><dd><p>{“b”: .99, “cost_related”: {“a”: 3}},
{“b”: .99, “cost_related”: {“a”: 2}},</p>
</dd>
</dl>
<p>]
evaluated_rewards=[3.0, 1.0]</p>
</div></blockquote>
<p>means that you know the reward for the two configs in
points_to_evaluate are 3.0 and 1.0 respectively and want to
inform run()</p>
</p></li>
<li><p><strong>prune_attr</strong> – A string of the attribute used for pruning.
Not necessarily in space.
When prune_attr is in space, it is a hyperparameter, e.g.,
‘n_iters’, and the best value is unknown.
When prune_attr is not in space, it is a resource dimension,
e.g., ‘sample_size’, and the peak performance is assumed
to be at the max_resource.</p></li>
<li><p><strong>min_resource</strong> – A float of the minimal resource to use for the
prune_attr; only valid if prune_attr is not in space.</p></li>
<li><p><strong>max_resource</strong> – A float of the maximal resource to use for the
prune_attr; only valid if prune_attr is not in space.</p></li>
<li><p><strong>reduction_factor</strong> – A float of the reduction factor used for incremental
pruning.</p></li>
<li><p><strong>report_intermediate_result</strong> – A boolean of whether intermediate results
are reported. If so, early stopping and pruning can be used.</p></li>
<li><p><strong>search_alg</strong> – <p>An instance of BlendSearch as the search algorithm
to be used. The same instance can be used for iterative tuning.
e.g.,</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">flaml</span> <span class="kn">import</span> <span class="n">BlendSearch</span>
<span class="n">algo</span> <span class="o">=</span> <span class="n">BlendSearch</span><span class="p">(</span><span class="n">metric</span><span class="o">=</span><span class="s1">&#39;val_loss&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;min&#39;</span><span class="p">,</span>
        <span class="n">space</span><span class="o">=</span><span class="n">search_space</span><span class="p">,</span>
        <span class="n">low_cost_partial_config</span><span class="o">=</span><span class="n">low_cost_partial_config</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="n">analysis</span> <span class="o">=</span> <span class="n">tune</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">compute_with_config</span><span class="p">,</span>
        <span class="n">search_alg</span><span class="o">=</span><span class="n">algo</span><span class="p">,</span> <span class="n">use_ray</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">analysis</span><span class="o">.</span><span class="n">trials</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">last_result</span><span class="p">)</span>
</pre></div>
</div>
</p></li>
<li><p><strong>verbose</strong> – 0, 1, 2, or 3. Verbosity mode for ray if ray backend is used.
0 = silent, 1 = only status updates, 2 = status and brief trial
results, 3 = status and detailed trial results. Defaults to 2.</p></li>
<li><p><strong>local_dir</strong> – A string of the local dir to save ray logs if ray backend is
used; or a local dir to save the tuning log.</p></li>
<li><p><strong>num_samples</strong> – An integer of the number of configs to try. Defaults to 1.</p></li>
<li><p><strong>resources_per_trial</strong> – A dictionary of the hardware resources to allocate
per trial, e.g., <cite>{‘cpu’: 1}</cite>. Only valid when using ray backend.</p></li>
<li><p><strong>config_constraints</strong> – <p>A list of config constraints to be satisfied.
e.g.,</p>
<p>mem_size is a function which produces a float number for the bytes
needed for a config.
It is used to skip configs which do not fit in memory.</p>
</p></li>
<li><p><strong>metric_constraints</strong> – A list of metric constraints to be satisfied.
e.g., <cite>[‘precision’, ‘&gt;=’, 0.9]</cite>.</p></li>
<li><p><strong>max_failure</strong> – int | the maximal consecutive number of failures to sample
a trial before the tuning is terminated.</p></li>
<li><p><strong>use_ray</strong> – A boolean of whether to use ray as the backend.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="flaml.tune.report">
<span class="sig-prename descclassname"><span class="pre">flaml.tune.</span></span><span class="sig-name descname"><span class="pre">report</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_metric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/flaml/tune/tune.html#report"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.tune.report" title="Permalink to this definition"></a></dt>
<dd><p>A function called by the HPO application to report final or intermediate
results.</p>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">time</span>
<span class="kn">from</span> <span class="nn">flaml</span> <span class="kn">import</span> <span class="n">tune</span>

<span class="k">def</span> <span class="nf">compute_with_config</span><span class="p">(</span><span class="n">config</span><span class="p">):</span>
    <span class="n">current_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
    <span class="n">metric2minimize</span> <span class="o">=</span> <span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">])</span><span class="o">-</span><span class="mi">95000</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span>
    <span class="n">time2eval</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">current_time</span>
    <span class="n">tune</span><span class="o">.</span><span class="n">report</span><span class="p">(</span><span class="n">metric2minimize</span><span class="o">=</span><span class="n">metric2minimize</span><span class="p">,</span> <span class="n">time2eval</span><span class="o">=</span><span class="n">time2eval</span><span class="p">)</span>

<span class="n">analysis</span> <span class="o">=</span> <span class="n">tune</span><span class="o">.</span><span class="n">run</span><span class="p">(</span>
    <span class="n">compute_with_config</span><span class="p">,</span>
    <span class="n">config</span><span class="o">=</span><span class="p">{</span>
        <span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="n">tune</span><span class="o">.</span><span class="n">lograndint</span><span class="p">(</span><span class="n">lower</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">upper</span><span class="o">=</span><span class="mi">1000000</span><span class="p">),</span>
        <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="n">tune</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="n">lower</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">upper</span><span class="o">=</span><span class="mi">1000000</span><span class="p">)</span>
    <span class="p">},</span>
    <span class="n">metric</span><span class="o">=</span><span class="s1">&#39;metric2minimize&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;min&#39;</span><span class="p">,</span>
    <span class="n">num_samples</span><span class="o">=</span><span class="mi">1000000</span><span class="p">,</span> <span class="n">time_budget_s</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span> <span class="n">use_ray</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">analysis</span><span class="o">.</span><span class="n">trials</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">last_result</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>_metric</strong> – Optional default anonymous metric for <code class="docutils literal notranslate"><span class="pre">tune.report(value)</span></code>.
(For compatibility with ray.tune.report)</p></li>
<li><p><strong>**kwargs</strong> – Any key value pair to be reported.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="flaml.BlendSearch">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">flaml.</span></span><span class="sig-name descname"><span class="pre">BlendSearch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metric</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">space</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">low_cost_partial_config</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cat_hp_cost</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">points_to_evaluate</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">evaluated_rewards</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_budget_s</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_samples</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prune_attr</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_resource</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_resource</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reduction_factor</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">global_search_alg</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">flaml.searcher.suggestion.Searcher</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_constraints</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric_constraints</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">experimental</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/flaml/searcher/blendsearch.html#BlendSearch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.BlendSearch" title="Permalink to this definition"></a></dt>
<dd><p>class for BlendSearch algorithm</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="flaml.BlendSearch.LocalSearch">
<span class="sig-name descname"><span class="pre">LocalSearch</span></span><a class="headerlink" href="#flaml.BlendSearch.LocalSearch" title="Permalink to this definition"></a></dt>
<dd><p>alias of <a class="reference internal" href="#flaml.FLOW2" title="flaml.searcher.flow2.FLOW2"><code class="xref py py-class docutils literal notranslate"><span class="pre">flaml.searcher.flow2.FLOW2</span></code></a></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flaml.BlendSearch.on_trial_complete">
<span class="sig-name descname"><span class="pre">on_trial_complete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">trial_id</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">result</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">error</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/flaml/searcher/blendsearch.html#BlendSearch.on_trial_complete"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.BlendSearch.on_trial_complete" title="Permalink to this definition"></a></dt>
<dd><p>search thread updater and cleaner</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flaml.BlendSearch.on_trial_result">
<span class="sig-name descname"><span class="pre">on_trial_result</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">trial_id</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">result</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/flaml/searcher/blendsearch.html#BlendSearch.on_trial_result"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.BlendSearch.on_trial_result" title="Permalink to this definition"></a></dt>
<dd><p>receive intermediate result</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flaml.BlendSearch.restore">
<span class="sig-name descname"><span class="pre">restore</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">checkpoint_path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/flaml/searcher/blendsearch.html#BlendSearch.restore"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.BlendSearch.restore" title="Permalink to this definition"></a></dt>
<dd><p>restore states from checkpoint</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flaml.BlendSearch.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">checkpoint_path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/flaml/searcher/blendsearch.html#BlendSearch.save"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.BlendSearch.save" title="Permalink to this definition"></a></dt>
<dd><p>save states to a checkpoint path</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flaml.BlendSearch.set_search_properties">
<span class="sig-name descname"><span class="pre">set_search_properties</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metric</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">setting</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="_modules/flaml/searcher/blendsearch.html#BlendSearch.set_search_properties"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.BlendSearch.set_search_properties" title="Permalink to this definition"></a></dt>
<dd><p>Pass search properties to searcher.
This method acts as an alternative to instantiating search algorithms
with their own specific search spaces. Instead they can accept a
Tune config through this method. A searcher should return <code class="docutils literal notranslate"><span class="pre">True</span></code>
if setting the config was successful, or <code class="docutils literal notranslate"><span class="pre">False</span></code> if it was
unsuccessful, e.g. when the search space has already been set.
:param metric: Metric to optimize
:type metric: str
:param mode: One of [“min”, “max”]. Direction to optimize.
:type mode: str
:param config: Tune config dict.
:type config: dict</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flaml.BlendSearch.suggest">
<span class="sig-name descname"><span class="pre">suggest</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">trial_id</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/flaml/searcher/blendsearch.html#BlendSearch.suggest"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.BlendSearch.suggest" title="Permalink to this definition"></a></dt>
<dd><p>choose thread, suggest a valid config</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="flaml.CFO">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">flaml.</span></span><span class="sig-name descname"><span class="pre">CFO</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metric</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">space</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">low_cost_partial_config</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cat_hp_cost</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">points_to_evaluate</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">evaluated_rewards</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_budget_s</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_samples</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prune_attr</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_resource</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_resource</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reduction_factor</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">global_search_alg</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">flaml.searcher.suggestion.Searcher</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_constraints</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric_constraints</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">experimental</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/flaml/searcher/blendsearch.html#CFO"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.CFO" title="Permalink to this definition"></a></dt>
<dd><p>class for CFO algorithm</p>
<dl class="py method">
<dt class="sig sig-object py" id="flaml.CFO.on_trial_complete">
<span class="sig-name descname"><span class="pre">on_trial_complete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">trial_id</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">result</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">error</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/flaml/searcher/blendsearch.html#CFO.on_trial_complete"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.CFO.on_trial_complete" title="Permalink to this definition"></a></dt>
<dd><p>search thread updater and cleaner</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flaml.CFO.suggest">
<span class="sig-name descname"><span class="pre">suggest</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">trial_id</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/flaml/searcher/blendsearch.html#CFO.suggest"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.CFO.suggest" title="Permalink to this definition"></a></dt>
<dd><p>choose thread, suggest a valid config</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="flaml.FLOW2">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">flaml.</span></span><span class="sig-name descname"><span class="pre">FLOW2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">init_config</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">space</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prune_attr</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_resource</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_resource</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resource_multiple_factor</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cost_attr</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'time_total_s'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">20</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/flaml/searcher/flow2.html#FLOW2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.FLOW2" title="Permalink to this definition"></a></dt>
<dd><p>Local search algorithm FLOW2, with adaptive step size</p>
<dl class="py property">
<dt class="sig sig-object py" id="flaml.FLOW2.can_suggest">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">can_suggest</span></span><em class="property"><span class="pre">:</span> <span class="pre">bool</span></em><a class="headerlink" href="#flaml.FLOW2.can_suggest" title="Permalink to this definition"></a></dt>
<dd><p>can’t suggest if 2*dim configs have been proposed for the incumbent
while fewer are completed</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flaml.FLOW2.complete_config">
<span class="sig-name descname"><span class="pre">complete_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">partial_config</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lower</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upper</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">,</span> </span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/flaml/searcher/flow2.html#FLOW2.complete_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.FLOW2.complete_config" title="Permalink to this definition"></a></dt>
<dd><p>generate a complete config from the partial config input
add minimal resource to config if available</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flaml.FLOW2.config_signature">
<span class="sig-name descname"><span class="pre">config_signature</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">space</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span></span></span><a class="reference internal" href="_modules/flaml/searcher/flow2.html#FLOW2.config_signature"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.FLOW2.config_signature" title="Permalink to this definition"></a></dt>
<dd><p>return the signature tuple of a config</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="flaml.FLOW2.converged">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">converged</span></span><em class="property"><span class="pre">:</span> <span class="pre">bool</span></em><a class="headerlink" href="#flaml.FLOW2.converged" title="Permalink to this definition"></a></dt>
<dd><p>return whether the local search has converged</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flaml.FLOW2.denormalize">
<span class="sig-name descname"><span class="pre">denormalize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/flaml/searcher/flow2.html#FLOW2.denormalize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.FLOW2.denormalize" title="Permalink to this definition"></a></dt>
<dd><p>denormalize each dimension in config from [0,1]</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flaml.FLOW2.normalize">
<span class="sig-name descname"><span class="pre">normalize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span></span></span><a class="reference internal" href="_modules/flaml/searcher/flow2.html#FLOW2.normalize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.FLOW2.normalize" title="Permalink to this definition"></a></dt>
<dd><p>normalize each dimension in config to [0,1]</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flaml.FLOW2.on_trial_result">
<span class="sig-name descname"><span class="pre">on_trial_result</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">trial_id</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">result</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/flaml/searcher/flow2.html#FLOW2.on_trial_result"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.FLOW2.on_trial_result" title="Permalink to this definition"></a></dt>
<dd><p>early update of incumbent</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flaml.FLOW2.reach">
<span class="sig-name descname"><span class="pre">reach</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">flaml.searcher.suggestion.Searcher</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="_modules/flaml/searcher/flow2.html#FLOW2.reach"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.FLOW2.reach" title="Permalink to this definition"></a></dt>
<dd><p>whether the incumbent can reach the incumbent of other</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flaml.FLOW2.set_search_properties">
<span class="sig-name descname"><span class="pre">set_search_properties</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metric</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="_modules/flaml/searcher/flow2.html#FLOW2.set_search_properties"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.FLOW2.set_search_properties" title="Permalink to this definition"></a></dt>
<dd><p>Pass search properties to searcher.
This method acts as an alternative to instantiating search algorithms
with their own specific search spaces. Instead they can accept a
Tune config through this method. A searcher should return <code class="docutils literal notranslate"><span class="pre">True</span></code>
if setting the config was successful, or <code class="docutils literal notranslate"><span class="pre">False</span></code> if it was
unsuccessful, e.g. when the search space has already been set.
:param metric: Metric to optimize
:type metric: str
:param mode: One of [“min”, “max”]. Direction to optimize.
:type mode: str
:param config: Tune config dict.
:type config: dict</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flaml.FLOW2.suggest">
<span class="sig-name descname"><span class="pre">suggest</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">trial_id</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/flaml/searcher/flow2.html#FLOW2.suggest"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.FLOW2.suggest" title="Permalink to this definition"></a></dt>
<dd><p>suggest a new config, one of the following cases:
1. same incumbent, increase resource
2. same resource, move from the incumbent to a random direction
3. same resource, move from the incumbent to the opposite direction
#TODO: better decouple FLOW2 config suggestion and stepsize update</p>
</dd></dl>

</dd></dl>

</section>
<section id="online-automl">
<h2>Online AutoML<a class="headerlink" href="#online-automl" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="flaml.AutoVW">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">flaml.</span></span><span class="sig-name descname"><span class="pre">AutoVW</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_live_model_num</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search_space</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">init_config</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_resource_lease</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">automl_runner_args</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scheduler_args</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_select_policy</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'threshold_loss_ucb'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'mae_clipped'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random_seed</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_selection_mode</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'min'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cb_coef</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/flaml/onlineml/autovw.html#AutoVW"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.AutoVW" title="Permalink to this definition"></a></dt>
<dd><p>The AutoML class</p>
<dl class="py method">
<dt class="sig sig-object py" id="flaml.AutoVW.get_ns_feature_dim_from_vw_example">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">get_ns_feature_dim_from_vw_example</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vw_example</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span></span></span><a class="reference internal" href="_modules/flaml/onlineml/autovw.html#AutoVW.get_ns_feature_dim_from_vw_example"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.AutoVW.get_ns_feature_dim_from_vw_example" title="Permalink to this definition"></a></dt>
<dd><p>Get a dictionary of feature dimensionality for each namespace singleton</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flaml.AutoVW.learn">
<span class="sig-name descname"><span class="pre">learn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_sample</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/flaml/onlineml/autovw.html#AutoVW.learn"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.AutoVW.learn" title="Permalink to this definition"></a></dt>
<dd><p>Perform one online learning step with the given data sample</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data_sample</strong> (<em>vw_example</em>) – one data sample on which the model gets updated</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flaml.AutoVW.predict">
<span class="sig-name descname"><span class="pre">predict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_sample</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/flaml/onlineml/autovw.html#AutoVW.predict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.AutoVW.predict" title="Permalink to this definition"></a></dt>
<dd><p>Predict on the input example (e.g., vw example)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data_sample</strong> (<em>vw_example</em>) – </p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="nlp">
<h2>NLP<a class="headerlink" href="#nlp" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="flaml.nlp.AutoTransformers">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">flaml.nlp.</span></span><span class="sig-name descname"><span class="pre">AutoTransformers</span></span><a class="reference internal" href="_modules/flaml/nlp/autotransformers.html#AutoTransformers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.nlp.AutoTransformers" title="Permalink to this definition"></a></dt>
<dd><p>The AutoTransformers class</p>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">autohf</span> <span class="o">=</span> <span class="n">AutoTransformers</span><span class="p">()</span>
<span class="n">autohf_settings</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;resources_per_trial&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;cpu&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;gpu&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span>
    <span class="s2">&quot;num_samples&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;time_budget&quot;</span><span class="p">:</span> <span class="mi">60</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">validation_metric</span><span class="p">,</span> <span class="n">analysis</span> <span class="o">=</span> <span class="n">autohf</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="o">**</span><span class="n">autohf_settings</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="flaml.nlp.AutoTransformers.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_samples</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_budget</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_metric_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_metric_mode_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ckpt_per_epoch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fp16</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ray_verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transformers_verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resources_per_trial</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ray_local_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">custom_hpo_args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/flaml/nlp/autotransformers.html#AutoTransformers.fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.nlp.AutoTransformers.fit" title="Permalink to this definition"></a></dt>
<dd><p>Fine tuning the huggingface using the hpo setting</p>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">autohf_settings</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;resources_per_trial&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;cpu&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span>
           <span class="s2">&quot;num_samples&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
           <span class="s2">&quot;time_budget&quot;</span><span class="p">:</span> <span class="mi">100000</span><span class="p">,</span>
           <span class="s2">&quot;ckpt_per_epoch&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
           <span class="s2">&quot;fp16&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
          <span class="p">}</span>

<span class="n">validation_metric</span><span class="p">,</span> <span class="n">analysis</span> <span class="o">=</span> <span class="n">autohf</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="o">**</span><span class="n">autohf_settings</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>resources_per_trial</strong> – A dict showing the resources used by each trial,
e.g., {“gpu”: 4, “cpu”: 4}</p></li>
<li><p><strong>num_samples</strong> – An int variable of the maximum number of trials</p></li>
<li><p><strong>time_budget</strong> – An int variable of the maximum time budget</p></li>
<li><p><strong>custom_metric_name</strong> – A string of the dataset name or a function,
e.g., ‘accuracy’, ‘f1’, ‘loss’</p></li>
<li><p><strong>custom_metric_mode_name</strong> – A string of the mode name,
e.g., “max”, “min”, “last”, “all”</p></li>
<li><p><strong>ckpt_per_epoch</strong> – An integer value of number of checkpoints per epoch, default = 1</p></li>
<li><p><strong>ray_verbose</strong> – An integer, default=1 | verbosit of ray,</p></li>
<li><p><strong>transformers_verbose</strong> – An integer, default=transformers.logging.INFO | verbosity of transformers, must be chosen from one of
transformers.logging.ERROR, transformers.logging.INFO, transformers.logging.WARNING,
or transformers.logging.DEBUG</p></li>
<li><p><strong>fp16</strong> – A boolean, default = True | whether to use fp16</p></li>
<li><p><strong>ray_local_mode</strong> – A boolean, default = False | whether to use the local mode (debugging mode) for ray tune.run</p></li>
<li><p><strong>custom_hpo_args</strong> – The additional keyword arguments, e.g., custom_hpo_args = {“points_to_evaluate”: [{
“num_train_epochs”: 1, “per_device_train_batch_size”: 128, }]}</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>A dict storing the validation score</p>
<p>analysis: A ray.tune.analysis.Analysis object storing the analysis results from tune.run</p>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>validation_metric</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flaml.nlp.AutoTransformers.output_prediction">
<span class="sig-name descname"><span class="pre">output_prediction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">predictions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_prediction_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_zip_file_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/flaml/nlp/autotransformers.html#AutoTransformers.output_prediction"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.nlp.AutoTransformers.output_prediction" title="Permalink to this definition"></a></dt>
<dd><p>When using the original GLUE split, output the prediction on test data,
and prepare the .zip file for submission</p>
<p class="rubric">Example</p>
<dl class="simple">
<dt>local_archive_path = self.autohf.output_prediction(predictions,</dt><dd><p>output_prediction_path= self.console_args.data_root_dir + “result/”,
output_zip_file_name=azure_save_file_name)</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>predictions</strong> – A list of predictions, which is the output of AutoTransformers.predict()</p></li>
<li><p><strong>output_prediction_path</strong> – Output path for the prediction</p></li>
<li><p><strong>output_zip_file_name</strong> – An string, which is the name of the output zip file</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The path of the output .zip file</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flaml.nlp.AutoTransformers.predict">
<span class="sig-name descname"><span class="pre">predict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ckpt_json_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/flaml/nlp/autotransformers.html#AutoTransformers.predict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.nlp.AutoTransformers.predict" title="Permalink to this definition"></a></dt>
<dd><p>Predict label for test data.</p>
<dl class="simple">
<dt>An example:</dt><dd><p>predictions, test_metric = autohf.predict()</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ckpt_json_dir</strong> – the checkpoint for the fine-tuned huggingface if you wish to override
the saved checkpoint in the training stage under self.path_utils._result_dir_per_run</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A numpy array of shape n * 1 - - each element is a predicted class
label for an instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flaml.nlp.AutoTransformers.prepare_data">
<span class="sig-name descname"><span class="pre">prepare_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_root_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jobid_config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_wandb_on</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">server_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_seq_length</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">128</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fold_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resplit_portion</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">custom_data_args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/flaml/nlp/autotransformers.html#AutoTransformers.prepare_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.nlp.AutoTransformers.prepare_data" title="Permalink to this definition"></a></dt>
<dd><p>Prepare data</p>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">preparedata_setting</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;server_name&quot;</span><span class="p">:</span> <span class="s2">&quot;tmdev&quot;</span><span class="p">,</span> <span class="s2">&quot;data_root_path&quot;</span><span class="p">:</span> <span class="s2">&quot;data/&quot;</span><span class="p">,</span> <span class="s2">&quot;max_seq_length&quot;</span><span class="p">:</span> <span class="mi">128</span><span class="p">,</span>
                           <span class="s2">&quot;jobid_config&quot;</span><span class="p">:</span> <span class="n">jobid_config</span><span class="p">,</span> <span class="s2">&quot;wandb_utils&quot;</span><span class="p">:</span> <span class="n">wandb_utils</span><span class="p">,</span>
                           <span class="s2">&quot;resplit_portion&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;train&quot;</span><span class="p">,</span> <span class="s2">&quot;validation&quot;</span><span class="p">],</span>
                           <span class="s2">&quot;train&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">],</span> <span class="s2">&quot;validation&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">],</span> <span class="s2">&quot;test&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.9</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]}}</span>

<span class="n">autohf</span><span class="o">.</span><span class="n">prepare_data</span><span class="p">(</span><span class="o">**</span><span class="n">preparedata_setting</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>server_name</strong> – A string variable, which can be tmdev or azureml</p></li>
<li><p><strong>data_root_path</strong> – The root path for storing the checkpoints and output results, e.g., “data/”</p></li>
<li><p><strong>jobid_config</strong> – A JobID object describing the profile of job</p></li>
<li><p><strong>wandb_utils</strong> – A WandbUtils object for wandb operations</p></li>
<li><p><strong>max_seq_length</strong> (<em>optional</em>) – Max_seq_lckpt_per_epochength for the huggingface, this hyperparameter must be specified
at the data processing step</p></li>
<li><p><strong>resplit_portion</strong> – The proportion for resplitting the train and dev data when split_mode=”resplit”.
If args.resplit_mode = “rspt”, resplit_portion is required</p></li>
<li><p><strong>is_wandb_on</strong> – A boolean variable indicating whether wandb is used</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="flaml.nlp.AzureUtils">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">flaml.nlp.</span></span><span class="sig-name descname"><span class="pre">AzureUtils</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root_log_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">azure_key_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_root_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">autohf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jobid_config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/flaml/nlp/result_analysis/azure_utils.html#AzureUtils"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.nlp.AzureUtils" title="Permalink to this definition"></a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="flaml.nlp.AzureUtils.create_local_prediction_and_upload">
<span class="sig-name descname"><span class="pre">create_local_prediction_and_upload</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">local_json_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">predictions</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/flaml/nlp/result_analysis/azure_utils.html#AzureUtils.create_local_prediction_and_upload"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.nlp.AzureUtils.create_local_prediction_and_upload" title="Permalink to this definition"></a></dt>
<dd><p>Store predictions (a .zip file) locally and upload</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flaml.nlp.AzureUtils.extract_configscore_list_from_analysis">
<span class="sig-name descname"><span class="pre">extract_configscore_list_from_analysis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">analysis</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/flaml/nlp/result_analysis/azure_utils.html#AzureUtils.extract_configscore_list_from_analysis"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.nlp.AzureUtils.extract_configscore_list_from_analysis" title="Permalink to this definition"></a></dt>
<dd><p>Extracting a json object for storing the key information returned from tune.run</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flaml.nlp.AzureUtils.generate_local_json_path">
<span class="sig-name descname"><span class="pre">generate_local_json_path</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/flaml/nlp/result_analysis/azure_utils.html#AzureUtils.generate_local_json_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.nlp.AzureUtils.generate_local_json_path" title="Permalink to this definition"></a></dt>
<dd><p>Return a path string for storing the json file locally</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flaml.nlp.AzureUtils.get_config_and_score_from_matched_blob_list">
<span class="sig-name descname"><span class="pre">get_config_and_score_from_matched_blob_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">matched_blob_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">earliest_time</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/flaml/nlp/result_analysis/azure_utils.html#AzureUtils.get_config_and_score_from_matched_blob_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.nlp.AzureUtils.get_config_and_score_from_matched_blob_list" title="Permalink to this definition"></a></dt>
<dd><p>Extract the config and score list of one or multiple blobs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>matched_blob_list</strong> – matched blob list</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a ConfigScore list object which stores the config and scores list for each matched blob lists</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flaml.nlp.AzureUtils.get_config_and_score_from_partial_jobid">
<span class="sig-name descname"><span class="pre">get_config_and_score_from_partial_jobid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root_log_path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">partial_jobid</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#flaml.nlp.JobID" title="flaml.nlp.result_analysis.azure_utils.JobID"><span class="pre">flaml.nlp.result_analysis.azure_utils.JobID</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">earliest_time</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/flaml/nlp/result_analysis/azure_utils.html#AzureUtils.get_config_and_score_from_partial_jobid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.nlp.AzureUtils.get_config_and_score_from_partial_jobid" title="Permalink to this definition"></a></dt>
<dd><p>Extract the config and score list from a partial config id</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>root_log_path</strong> – The root log path in azure blob storage, e.g., “logs_seed/”</p></li>
<li><p><strong>partial_jobid</strong> – The partial jobid for matching the blob list</p></li>
<li><p><strong>earliest_time</strong> (<em>optional</em>) – The earliest starting time for any matched blob, for filtering out out-dated jobs,
format: (YYYY, MM, DD)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a ConfigScore list object which stores the config and scores list for each matched blob lists</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flaml.nlp.AzureUtils.get_configblob_from_partial_jobid">
<span class="sig-name descname"><span class="pre">get_configblob_from_partial_jobid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root_log_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">partial_jobid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">earliest_time</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/flaml/nlp/result_analysis/azure_utils.html#AzureUtils.get_configblob_from_partial_jobid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.nlp.AzureUtils.get_configblob_from_partial_jobid" title="Permalink to this definition"></a></dt>
<dd><p>Get all blobs whose jobid configs match the partial_jobid</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flaml.nlp.AzureUtils.write_autohf_output">
<span class="sig-name descname"><span class="pre">write_autohf_output</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">configscore_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">valid_metric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">predictions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">duration</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/flaml/nlp/result_analysis/azure_utils.html#AzureUtils.write_autohf_output"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.nlp.AzureUtils.write_autohf_output" title="Permalink to this definition"></a></dt>
<dd><p>Write the key info from a job and upload to azure blob storage</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="flaml.nlp.JobID">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">flaml.nlp.</span></span><span class="sig-name descname"><span class="pre">JobID</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">console_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/flaml/nlp/result_analysis/azure_utils.html#JobID"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.nlp.JobID" title="Permalink to this definition"></a></dt>
<dd><p>The class for specifying the config of a job, includes the following fields:</p>
<dl class="simple">
<dt>dat:</dt><dd><p>A list which is the dataset name</p>
</dd>
<dt>subdat:</dt><dd><p>A string which is the sub dataset name</p>
</dd>
<dt>mod:</dt><dd><p>A string which is the module, e.g., “grid”, “hpo”</p>
</dd>
<dt>spa:</dt><dd><p>A string which is the space mode, e.g., “uni”, “gnr”</p>
</dd>
<dt>arg:</dt><dd><p>A string which is the mode for setting the input argument of a search algorithm, e.g., “cus”, “dft”</p>
</dd>
<dt>alg:</dt><dd><p>A string which is the search algorithm name</p>
</dd>
<dt>pru:</dt><dd><p>A string which is the scheduler name</p>
</dd>
<dt>pre_full:</dt><dd><p>A string which is the full name of the pretrained language model</p>
</dd>
<dt>pre:</dt><dd><p>A string which is the abbreviation of the pretrained language model</p>
</dd>
<dt>presz:</dt><dd><p>A string which is the size of the pretrained language model</p>
</dd>
<dt>spt:</dt><dd><p>A string which is the resplit mode, e.g., “ori”, “rspt”</p>
</dd>
<dt>rep:</dt><dd><p>An integer which is the repetition id</p>
</dd>
<dt>sddt:</dt><dd><p>An integer which is the seed for data shuffling in the resplit mode</p>
</dd>
<dt>sdhf:</dt><dd><p>An integer which is the seed for transformers</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="flaml.nlp.JobID.blobname_to_jobid_dict">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">blobname_to_jobid_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keytoval_str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/flaml/nlp/result_analysis/azure_utils.html#JobID.blobname_to_jobid_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.nlp.JobID.blobname_to_jobid_dict" title="Permalink to this definition"></a></dt>
<dd><p>Converting an azure blobname to a JobID config,
e.g., blobname = “dat=glue_subdat=cola_mod=bestnn_spa=buni_arg=cus_
alg=bs_pru=None_pre=funnel_presz=xlarge_spt=rspt_rep=0.json”</p>
<dl class="simple">
<dt>the converted jobid dict = {dat = [‘glue’], subdat = ‘cola’, mod = ‘bestnn’,</dt><dd><p>spa = ‘buni’, arg = ‘cus’, alg = ‘bs’, pru = ‘None’,
pre = ‘funnel’, presz = ‘xlarge’, spt = ‘rspt’,
rep = 0, sddt = 43, sdhf = 42)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flaml.nlp.JobID.convert_blobname_to_jobid">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">convert_blobname_to_jobid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">blobname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/flaml/nlp/result_analysis/azure_utils.html#JobID.convert_blobname_to_jobid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.nlp.JobID.convert_blobname_to_jobid" title="Permalink to this definition"></a></dt>
<dd><p>Converting a blobname string to a JobID object</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flaml.nlp.JobID.get_full_data_name">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">get_full_data_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subdataset_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/flaml/nlp/result_analysis/azure_utils.html#JobID.get_full_data_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.nlp.JobID.get_full_data_name" title="Permalink to this definition"></a></dt>
<dd><p>Convert a dataset name and sub dataset name to a full dataset name</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flaml.nlp.JobID.get_jobid_full_data_name">
<span class="sig-name descname"><span class="pre">get_jobid_full_data_name</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/flaml/nlp/result_analysis/azure_utils.html#JobID.get_jobid_full_data_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.nlp.JobID.get_jobid_full_data_name" title="Permalink to this definition"></a></dt>
<dd><p>Get the full dataset name of the current JobID object</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flaml.nlp.JobID.is_match">
<span class="sig-name descname"><span class="pre">is_match</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">partial_jobid</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/flaml/nlp/result_analysis/azure_utils.html#JobID.is_match"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.nlp.JobID.is_match" title="Permalink to this definition"></a></dt>
<dd><p>Return a boolean variable whether the current object matches the partial jobid defined in partial_jobid.</p>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>   <span class="bp">self</span> <span class="o">=</span> <span class="n">JobID</span><span class="p">(</span><span class="n">dat</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;glue&#39;</span><span class="p">],</span> <span class="n">subdat</span> <span class="o">=</span> <span class="s1">&#39;cola&#39;</span><span class="p">,</span> <span class="n">mod</span> <span class="o">=</span> <span class="s1">&#39;bestnn&#39;</span><span class="p">,</span> <span class="n">spa</span> <span class="o">=</span> <span class="s1">&#39;buni&#39;</span><span class="p">,</span> <span class="n">arg</span> <span class="o">=</span> <span class="s1">&#39;cus&#39;</span><span class="p">,</span> <span class="n">alg</span> <span class="o">=</span> <span class="s1">&#39;bs&#39;</span><span class="p">,</span>
                <span class="n">pru</span> <span class="o">=</span> <span class="s1">&#39;None&#39;</span><span class="p">,</span> <span class="n">pre</span> <span class="o">=</span> <span class="s1">&#39;funnel&#39;</span><span class="p">,</span> <span class="n">presz</span> <span class="o">=</span> <span class="s1">&#39;xlarge&#39;</span><span class="p">,</span> <span class="n">spt</span> <span class="o">=</span> <span class="s1">&#39;rspt&#39;</span><span class="p">,</span> <span class="n">rep</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">sddt</span> <span class="o">=</span> <span class="mi">43</span><span class="p">,</span> <span class="n">sdhf</span> <span class="o">=</span> <span class="mi">42</span><span class="p">)</span>

   <span class="n">partial_jobid1</span> <span class="o">=</span> <span class="n">JobID</span><span class="p">(</span><span class="n">dat</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;glue&#39;</span><span class="p">],</span>
                          <span class="n">subdat</span> <span class="o">=</span> <span class="s1">&#39;cola&#39;</span><span class="p">,</span>
                          <span class="n">mod</span> <span class="o">=</span> <span class="s1">&#39;hpo&#39;</span><span class="p">)</span>

   <span class="n">partial_jobid2</span> <span class="o">=</span> <span class="n">JobID</span><span class="p">(</span><span class="n">dat</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;glue&#39;</span><span class="p">],</span>
                          <span class="n">subdat</span> <span class="o">=</span> <span class="s1">&#39;cola&#39;</span><span class="p">,</span>
                          <span class="n">mod</span> <span class="o">=</span> <span class="s1">&#39;bestnn&#39;</span><span class="p">)</span>

<span class="k">return</span> <span class="kc">False</span> <span class="k">for</span> <span class="n">partial_jobid1</span> <span class="ow">and</span> <span class="kc">True</span> <span class="k">for</span> <span class="n">partial_jobid2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flaml.nlp.JobID.set_jobid_from_arg_list">
<span class="sig-name descname"><span class="pre">set_jobid_from_arg_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">jobid_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/flaml/nlp/result_analysis/azure_utils.html#JobID.set_jobid_from_arg_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.nlp.JobID.set_jobid_from_arg_list" title="Permalink to this definition"></a></dt>
<dd><p>Set the jobid from a dict object</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flaml.nlp.JobID.set_unittest_config">
<span class="sig-name descname"><span class="pre">set_unittest_config</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/flaml/nlp/result_analysis/azure_utils.html#JobID.set_unittest_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.nlp.JobID.set_unittest_config" title="Permalink to this definition"></a></dt>
<dd><p>set the JobID config for unit test</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flaml.nlp.JobID.to_jobid_string">
<span class="sig-name descname"><span class="pre">to_jobid_string</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/flaml/nlp/result_analysis/azure_utils.html#JobID.to_jobid_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.nlp.JobID.to_jobid_string" title="Permalink to this definition"></a></dt>
<dd><p>Convert the current JobID into a blob name string which contains all the fields</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flaml.nlp.JobID.to_partial_jobid_string">
<span class="sig-name descname"><span class="pre">to_partial_jobid_string</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/flaml/nlp/result_analysis/azure_utils.html#JobID.to_partial_jobid_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.nlp.JobID.to_partial_jobid_string" title="Permalink to this definition"></a></dt>
<dd><p>Convert the current JobID into a blob name string which only contains the fields whose values are not “None”</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="flaml.nlp.JobID.to_wandb_string">
<span class="sig-name descname"><span class="pre">to_wandb_string</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/flaml/nlp/result_analysis/azure_utils.html#JobID.to_wandb_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#flaml.nlp.JobID.to_wandb_string" title="Permalink to this definition"></a></dt>
<dd><p>Preparing for the job ID for wandb</p>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020-2021, FLAML Team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>